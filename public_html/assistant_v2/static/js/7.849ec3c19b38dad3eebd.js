webpackJsonp([7],{"9ZyW":function(t,e){},iUDT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=(a("eqfM"),a("/QYm")),s=a("exGp"),o=a.n(s),c={name:"",data:function(){return{app_id:"",times:120,times2:120,interval:"",interval2:"",qrwayData:""}},components:{},mounted:function(){this.app_id=this.$route.query.app_id,this.getWxrobotWay()},destroyed:function(){clearInterval(this.interval)},computed:{},methods:{getWxrobotWay:function(){var t=this;return o()(i.a.mark(function e(){var a,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t).bus.$emit("loading",!0),n='{"app_id":"'+a.app_id+'", "method":"login.qr.code"}',e.next=5,a.ajaxPost("wx_robot_get_way",n,{});case 5:200==(s=e.sent).data.code?(a.qrwayData=s.data.data,a.times=120,a.times2=120,clearInterval(a.interval),clearInterval(a.interval2),a.countdown(),a.countdown2()):Object(r.a)(s.data.msg),a.bus.$emit("loading",!1);case 8:case"end":return e.stop()}},e,t)}))()},loginWxrobotWay:function(){var t=this;return o()(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t).isMore){e.next=3;break}return e.abrupt("return");case 3:return a.isMore=!0,n='{"app_id":"'+a.app_id+'", "wId":"'+a.qrwayData.wId+'", "method":"online"}',e.next=7,a.ajaxPost("wx_robot_get_way",n,{});case 7:200==e.sent.data.code&&(Object(r.a)("登录成功"),clearInterval(a.interval),clearInterval(a.interval2),setTimeout(function(){a.$router.replace({name:"Index"})},1500)),a.isMore=!1;case 10:case"end":return e.stop()}},e,t)}))()},loginWxrobotWayA:function(){var t=this;return o()(i.a.mark(function e(){var a,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t).isMore){e.next=3;break}return e.abrupt("return");case 3:return a.isMore=!0,a.bus.$emit("loading",!0),n='{"app_id":"'+a.app_id+'", "wId":"'+a.qrwayData.wId+'", "method":"online"}',e.next=8,a.ajaxPost("wx_robot_get_way",n,{});case 8:200==(s=e.sent).data.code?(r.a.success("登录成功"),clearInterval(a.interval),clearInterval(a.interval2),setTimeout(function(){a.$router.replace({name:"Index"})},1500)):Object(r.a)(s.data.msg),a.isMore=!1,a.bus.$emit("loading",!1);case 12:case"end":return e.stop()}},e,t)}))()},countdown:function(){var t=this;t.interval=window.setInterval(function(){t.times--<=1&&clearInterval(t.interval)},1e3)},countdown2:function(){var t=this;t.interval2=window.setInterval(function(){(t.times2-=3)<=1?clearInterval(t.interval2):t.loginWxrobotWay()},3e3)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("article",{staticClass:"main qrcode_box"},[a("div",{staticClass:"content",staticStyle:{"margin-top":".34rem"}},[t._m(0),t._v(" "),a("div",{staticClass:"code_cont"},[a("div",{staticClass:"image"},[0==t.times?a("div",{staticClass:"text",on:{click:t.getWxrobotWay}},[t._v("点击刷新二维码")]):t._e(),t._v(" "),a("img",{attrs:{src:t.qrwayData.qrCodeUrl}})]),t._v(" "),t.times>0?a("div",{staticClass:"times"},[t._v("二维码将在 "),a("em",[t._v(t._s(t.times)+"秒")]),t._v(" 后过期")]):a("div",{staticClass:"times",staticStyle:{color:"#ff3b2c"}},[t._v("二维码已过期 请点击刷新")])]),t._v(" "),a("div",{staticClass:"tip_top"},[t._v("智能助理暂不支持新疆地区，功能持续开发中...")]),t._v(" "),a("div",{staticClass:"button"},[a("div",{staticClass:"btn",on:{click:t.getWxrobotWay}},[t._v("刷新二维码")])])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"icon"}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"button",staticStyle:{"padding-top":".16rem"}},[a("div",{staticClass:"btn type_b",on:{click:t.loginWxrobotWayA}},[t._v("我已扫码登录")])])]),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h3",[this._v("第1步")]),this._v(" "),e("p",[this._v("请用微信扫一扫 扫描下方二维码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h3",[this._v("第2步")]),this._v(" "),e("p",[this._v("点击下方“我已扫码登录”")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tip_cont"},[a("h3",[t._v("扫码说明")]),t._v(" "),a("p",[t._v("1、请将二维码发送到其他设备")]),t._v(" "),a("p",[t._v("2、用手机微信扫一扫相机模式扫码")]),t._v(" "),a("p",[t._v("3、不支持微信长按识别二维码")]),t._v(" "),a("p",[t._v("4、建议您重新建一个购物优惠群，并保存到通讯录中")])])}]};var l=a("VU/8")(c,v,!1,function(t){a("9ZyW")},"data-v-3c3af57d",null);e.default=l.exports}});