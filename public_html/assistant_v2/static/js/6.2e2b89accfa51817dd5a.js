webpackJsonp([6],{WhFz:function(t,a){},iUDT:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Xxa5"),n=e.n(i),r=(e("eqfM"),e("/QYm")),s=e("exGp"),o=e.n(s),c={name:"",data:function(){return{app_id:"",times:120,interval:"",interval2:"",qrwayData:""}},components:{},mounted:function(){this.app_id=this.$route.query.app_id,this.getWxrobotWay()},destroyed:function(){clearInterval(this.interval)},computed:{},methods:{getWxrobotWay:function(){var t=this;return o()(n.a.mark(function a(){var e,i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(e=t).bus.$emit("loading",!0),i='{"app_id":"'+e.app_id+'", "method":"login.qr.code"}',a.next=5,e.ajaxPost("wx_robot_get_way",i,{});case 5:200==(s=a.sent).data.code?(e.qrwayData=s.data.data,e.times=120,clearInterval(e.interval),e.countdown()):Object(r.a)(s.data.msg),e.bus.$emit("loading",!1);case 8:case"end":return a.stop()}},a,t)}))()},loginWxrobotWay:function(){var t=this;return o()(n.a.mark(function a(){var e,i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e=t).isMore){a.next=3;break}return a.abrupt("return");case 3:return e.isMore=!0,i='{"app_id":"'+e.app_id+'", "wId":"'+e.qrwayData.wId+'", "method":"online"}',a.next=7,e.ajaxPost("wx_robot_get_way",i,{});case 7:200==(s=a.sent).data.code&&0!=s.data.data&&(Object(r.a)("登录成功"),clearInterval(e.interval),setTimeout(function(){e.$router.replace({name:"Index"})},1500)),e.isMore=!1;case 10:case"end":return a.stop()}},a,t)}))()},countdown:function(){var t=this;t.interval=window.setInterval(function(){t.times--<=1&&clearInterval(t.interval),t.loginWxrobotWay()},1e3)}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("article",{staticClass:"main qrcode_box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("请用微信扫一扫 扫描下方二维码")]),t._v(" "),e("div",{staticClass:"code_cont"},[e("div",{staticClass:"image"},[0==t.times?e("div",{staticClass:"text",on:{click:t.getWxrobotWay}},[t._v("点击刷新二维码")]):t._e(),t._v(" "),e("img",{attrs:{src:t.qrwayData.qrCodeUrl}})]),t._v(" "),t.times>0?e("div",{staticClass:"times"},[t._v("二维码将在 "),e("em",[t._v(t._s(t.times)+"秒")]),t._v(" 后过期")]):e("div",{staticClass:"times",staticStyle:{color:"#ff3b2c"}},[t._v("二维码已过期 请点击刷新")])]),t._v(" "),e("div",{staticClass:"button"},[e("div",{staticClass:"btn",staticStyle:{"margin-right":"2.25rem"},on:{click:t.getWxrobotWay}},[t._v("刷新二维码")])])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tip_cont"},[a("h3",[this._v("扫码说明")]),this._v(" "),a("p",[this._v("1、请将二维码发送到其他设备")]),this._v(" "),a("p",[this._v("2、用手机微信扫一扫相机模式扫码")]),this._v(" "),a("p",[this._v("3、不支持微信长按识别二维码")])])}]};var v=e("VU/8")(c,d,!1,function(t){e("WhFz")},"data-v-f783f25a",null);a.default=v.exports}});