webpackJsonp([2],{"0hjC":function(e,t){},"1SJR":function(e,t,i){"use strict";t.a=function(e,t){var i,s;void 0===t&&(t={});var r=t.indexKey||"index";return n.a.extend({inject:(i={},i[e]={default:null},i),computed:(s={parent:function(){return this.disableBindRelation?null:this[e]}},s[r]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},s),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter(function(t){return t!==e}))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=function(e){var t=[];return function e(i){i.forEach(function(i){t.push(i),i.children&&e(i.children)})}(e),t}(this.parent.slots());e.sort(function(e,i){return t.indexOf(e.$vnode)-t.indexOf(i.$vnode)}),this.parent.children=e}}}})},t.b=function(e){return{provide:function(){var t;return(t={})[e]=this,t},data:function(){return{children:[]}}}};var n=i("7+uW")},"4rJS":function(e,t){},X6Tt:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={inject:{vanField:{default:null}},watch:{value:function(){var e=this.vanField;e&&(e.resetValidation(),e.validateWithTrigger("onChange"))}},created:function(){var e=this.vanField;e&&!e.children&&(e.children=this)}}},ZfdV:function(e,t){},uM3d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s,r,a,d,o=i("Xxa5"),c=i.n(o),l=i("exGp"),u=i.n(l),h=i("bOdI"),f=i.n(h),p=(i("nsZj"),i("T2s0"),i("1H7Z"),i("4rJS"),i("o69Z")),v=i("+2ln"),b=i("X6Tt"),_=i("1SJR"),m=Object(p.b)("radio"),g=m[0],k=m[1],C=g({mixins:[(n={bem:k,role:"radio",parent:"vanRadio"},s=n.parent,r=n.bem,a=n.role,{mixins:[Object(_.a)(s),b.a],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===a&&!this.checked?-1:0}},methods:{onClick:function(e){var t=e.target,i=this.$refs.icon,n=i===t||i.contains(t);this.isDisabled||!n&&this.labelDisabled||this.toggle(),this.$emit("click",e)},genIcon:function(){var e=this.$createElement,t=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return e("div",{ref:"icon",class:r("icon",[this.shape,{disabled:this.isDisabled,checked:t}]),style:{fontSize:Object(p.a)(i)}},[this.slots("icon",{checked:t})||e(v.a,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var e=this.$createElement,t=this.slots();if(t)return e("span",{class:r("label",[this.labelPosition,{disabled:this.isDisabled}])},[t])}},render:function(){var e=arguments[0],t=[this.genIcon()];return"left"===this.labelPosition?t.unshift(this.genLabel()):t.push(this.genLabel()),e("div",{attrs:{role:a,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:r([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[t])}})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}}),x=(i("ZfdV"),Object(p.b)("radio-group")),S=x[0],j=x[1],O=S({mixins:[Object(_.b)("vanRadio"),b.a],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(e){this.$emit("change",e)}},render:function(){return(0,arguments[0])("div",{class:j([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}}),$=(i("eqfM"),i("/QYm")),w={name:"",data:function(){return{app_id:"",addressList:[],is_default:"",win_prize_id:"",orderAddressChoice:!1}},components:(d={},f()(d,$.a.name,$.a),f()(d,O.name,O),f()(d,C.name,C),d),mounted:function(){this.app_id=JSON.parse(localStorage.getItem("userInfo")).id,this.win_prize_id=this.$route.query.win_prize_id,this.orderAddressChoice=this.$route.query.orderAddressChoice,this.getAddress()},methods:{getAddress:function(){var e=this;return u()(c.a.mark(function t(){var i,n,s,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=e).bus.$emit("loading",!0),n='{"app_id":"'+i.app_id+'"}',t.next=5,i.ajaxGet("mini_address",n,{});case 5:if(200==(s=t.sent).code)for(i.addressList=s.data.reverse(),r=0;r<i.addressList.length;r++)1==i.addressList[r].is_default&&(i.is_default=r);else Object($.a)(s.msg);i.bus.$emit("loading",!1);case 8:case"end":return t.stop()}},t,e)}))()},delAddress:function(e,t){var i=this;return u()(c.a.mark(function n(){var s,r,a,d;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=(s=i).addressList,a='{"app_id":"'+s.app_id+'"}',n.next=5,s.ajaxDelete("mini_address/"+e,a,{});case 5:200==(d=n.sent).code?(Object($.a)("删除成功"),r.splice(t,1)):Object($.a)(d.msg);case 7:case"end":return n.stop()}},n,i)}))()},onAddress:function(e){if(this.orderAddressChoice){var t='{"win_prize_id":"'+this.win_prize_id+'", "address_id":"'+e+'"}';localStorage.setItem("query",t),this.$router.go(-1)}}}},y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap"},[i("article",{staticClass:"main address_list"},[e.addressList.length>0?i("van-radio-group",{model:{value:e.is_default,callback:function(t){e.is_default=t},expression:"is_default"}},e._l(e.addressList,function(t,n){return i("div",{key:n,staticClass:"box"},[i("div",{staticClass:"content",on:{click:function(i){return e.onAddress(t.id)}}},[i("div",{staticClass:"nametel"},[i("span",[e._v(e._s(t.collection))]),e._v(" "),i("span",[e._v(e._s(t.phone))])]),e._v(" "),i("div",{staticClass:"text"},[e._v(e._s(t.zone)+" "+e._s(t.detail))])]),e._v(" "),i("div",{staticClass:"button"},[i("div",{staticClass:"radio"},[i("van-radio",{attrs:{name:n,"checked-color":"#ff0031"}},[e._v("默认地址")])],1),e._v(" "),i("div",{staticClass:"subdelete",on:{click:function(i){return e.delAddress(t.id,n)}}},[e._v("删除")])])])}),0):i("div",{staticClass:"data_null"},[i("p",[e._v("您没有地址信息"),i("br"),e._v("请返回添加收货地址")])])],1),e._v(" "),i("footer",[i("router-link",{staticClass:"footer_button",attrs:{to:{path:"Addsite"}}},[e._v("新建收货地址")])],1)])},staticRenderFns:[]};var D=i("VU/8")(w,y,!1,function(e){i("0hjC")},"data-v-3c6b3fb1",null);t.default=D.exports}});